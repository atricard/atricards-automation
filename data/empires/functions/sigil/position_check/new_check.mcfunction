execute unless entity @e[type=armor_stand,tag=sigil,distance=..24] if block ~-2 ~-1 ~-2 #empires:valid_stone if block ~-1 ~-1 ~-2 #empires:valid_stone if block ~0 ~-1 ~-2 #empires:valid_stone if block ~1 ~-1 ~-2 #empires:valid_stone if block ~2 ~-1 ~-2 #empires:valid_stone if block ~-2 ~-1 ~-1 #empires:valid_stone if block ~-1 ~-1 ~-1 #empires:valid_stone if block ~0 ~-1 ~-1 #empires:valid_stone if block ~1 ~-1 ~-1 #empires:valid_stone if block ~2 ~-1 ~-1 #empires:valid_stone if block ~-2 ~-1 ~0 #empires:valid_stone if block ~-1 ~-1 ~0 #empires:valid_stone if block ~0 ~-1 ~0 #empires:valid_stone if block ~1 ~-1 ~-0 #empires:valid_stone if block ~2 ~-1 ~0 #empires:valid_stone if block ~-2 ~-1 ~1 #empires:valid_stone if block ~-1 ~-1 ~1 #empires:valid_stone if block ~0 ~-1 ~1 #empires:valid_stone if block ~1 ~-1 ~1 #empires:valid_stone if block ~2 ~-1 ~1 #empires:valid_stone if block ~-2 ~-1 ~2 #empires:valid_stone if block ~-1 ~-1 ~2 #empires:valid_stone if block ~0 ~-1 ~2 #empires:valid_stone if block ~1 ~-1 ~2 #empires:valid_stone if block ~2 ~-1 ~2 #empires:valid_stone run tag @s add unobstructed
execute as @s[tag=!unobstructed] run function empires:sigil/position_check/drop_item
execute as @s[tag=unobstructed,tag=white] run function empires:sigil/position_check/summon_white_sigil
execute as @s[tag=unobstructed,tag=yellow] run function empires:sigil/position_check/summon_yellow_sigil
execute as @s[tag=unobstructed,tag=red] run function empires:sigil/position_check/summon_red_sigil
execute as @s[tag=unobstructed,tag=purple] run function empires:sigil/position_check/summon_purple_sigil